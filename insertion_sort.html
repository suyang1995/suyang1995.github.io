<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>插入排序</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="tx7g" id="插入排序">插入排序</h1><p data-anchor-id="0b4j"><code>排序算法</code></p><hr><div class="md-section-divider"></div><h2 data-anchor-id="r1a4" id="0-说明">0. 说明</h2><pre data-anchor-id="i3ls"><code>    本章节将描述几个经典的排序算法，包括O(n^2)的插入排序，选择排序，冒泡排序，还包括O(nlogn)的快速排序，归并排序，堆排序。最后部分将是有关于非比较的排序，基于桶排序思路的基数排序等。
</code></pre><div class="md-section-divider"></div><h2 data-anchor-id="62fr" id="1-插入排序的思路">1. 插入排序的思路</h2><pre data-anchor-id="e64h"><code>    在插入排序的过程中，我们将待排序序列分为两个部分：有序区间和无序区间。

    举个例子：

        待排序序列为    ：5 4 3 2 1 2 7
        他们的索引为    ：0 1 2 3 4 5 6
        要求从小到大对序列排序。
</code></pre><div class="md-section-divider"></div><h4 data-anchor-id="6hmh" id="步骤1-划分有序区间和无序区间的范围">步骤1 划分有序区间和无序区间的范围。</h4><pre data-anchor-id="jsyn"><code>    因为在只有一个数的时候，它一定是有序的，所以初始情况下，我将索引为[0,1)的左开右闭区间划分为有序区间，而[1,7)区间划分为无序区间。接下来我们要做的，显然是不断的扩大有序区间，缩减无序区间，当无序区间为空的时候，我们就获得了最终的排序结果。
</code></pre><div class="md-section-divider"></div><h4 data-anchor-id="4qqt" id="步骤2-扩张有序区间的思路">步骤2 扩张有序区间的思路</h4><pre data-anchor-id="hz74"><code>    接下来的任务，是将无序区间的第一个元素并入有序区间，并且保证有序区间仍然有序。
    现在无序区间的第一个元素是4，有序区间为 [5]。
    操作方法为：
            先将待排序元素4和有序区间的最后一个元素比较，发现5大于4，所以5应该在4的后面。
            于是将5和4进行交换。(此处可优化)
            结果为 [4 5 3 2 1 2 7]。
            接下来发现4已经来到了有序区间的最前端，调整结束，有序区间完成一次扩张。
            有序区间为[4,5]
            无序区间为[3,2,1,2,7]。
    接下来的每一次操作都类似，基本思路是将无序区的第一个元素拿出来，从后向前遍历有序区间，通过向前交换的方式，找到待排序元素应该存在的位置。
    比如在某次循环过程中，有序区间为[1,2,3,4,5],无序区间为[2,7]
            取出无序区间的2，开始遍历有序区间。
            发现5大于2，有序区间交换结果[1,2,3,4,2,5]，继续调整。
            发现4大于2，有序区间交换结果[1,2,3,2,4,5]，继续调整。
            发现3大于2，有序区间交换结果[1,2,2,3,4,5]，继续调整。 
            发现2不大于2，调整结束，有序区间扩张为[1,2,2,3,4,5],无序区间缩减为[7]。
</code></pre><div class="md-section-divider"></div><h2 data-anchor-id="xr0l" id="2-代码">2. 代码</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="jtim"><ol class="linenums"><li class="L0"><code><span class="com">/*</span></code></li><li class="L1"><code><span class="com">    c++，linux环境，gcc编译器</span></code></li><li class="L2"><code><span class="com">    测试用例为4,5,3,2,1,2,7</span></code></li><li class="L3"><code><span class="com">    预计输出为：1 2 2 3 4 5 7</span></code></li><li class="L4"><code><span class="com">    实际输出为：1 2 2 3 4 5 7 </span></code></li><li class="L5"><code><span class="com">*/</span></code></li><li class="L6"><code><span class="kwd">void</span><span class="pln"> insertionsort</span><span class="pun">(</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pun">&amp;</span><span class="pln"> v</span><span class="pun">)</span></code></li><li class="L7"><code><span class="pun">{</span></code></li><li class="L8"><code><span class="pln">        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pln">        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> </span><span class="pun">++</span><span class="pln">i</span><span class="pun">)</span></code></li><li class="L0"><code><span class="pln">        </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">                </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> j</span><span class="pun">&gt;=</span><span class="lit">0</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> </span><span class="pun">--</span><span class="pln">j</span><span class="pun">)</span></code></li><li class="L2"><code><span class="pln">                </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">                        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">v</span><span class="pun">[</span><span class="pln">j</span><span class="pun">+</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> v</span><span class="pun">[</span><span class="pln">j</span><span class="pun">])</span></code></li><li class="L4"><code><span class="pln">                                swap</span><span class="pun">(</span><span class="pln">v</span><span class="pun">[</span><span class="pln">j</span><span class="pun">+</span><span class="lit">1</span><span class="pun">],</span><span class="pln">v</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]);</span></code></li><li class="L5"><code><span class="pln">                        </span><span class="kwd">else</span></code></li><li class="L6"><code><span class="pln">                                </span><span class="kwd">break</span><span class="pun">;</span></code></li><li class="L7"><code><span class="pln">                </span><span class="com">/*</span></code></li><li class="L8"><code><span class="com">                    此处可以通过赋值的方式替换swap交换操作</span></code></li><li class="L9"><code><span class="com">                    比如有序区间为[1,2,3,4,5],无序区间为[2,7]</span></code></li><li class="L0"><code><span class="com">                    可以暂存2，将345向后赋值</span></code></li><li class="L1"><code><span class="com">                    数组为 [1,2,3,3,4,5,7]</span></code></li><li class="L2"><code><span class="com">                    此时找到2应该位于有序区间的2位置(v[2])</span></code></li><li class="L3"><code><span class="com">                    将暂存的2放入v[2]即可。</span></code></li><li class="L4"><code><span class="com">                    传统的swap操作一此要3步赋值，如果用这种方式替代，能够减少赋值次数。</span></code></li><li class="L5"><code><span class="com">                */</span></code></li><li class="L6"><code><span class="pln">                </span><span class="pun">}</span></code></li><li class="L7"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L8"><code><span class="pun">}</span></code></li><li class="L9"><code><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span></code></li><li class="L0"><code><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">        </span><span class="kwd">int</span><span class="pln"> arr</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="lit">4</span><span class="pun">,</span><span class="lit">5</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">1</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">7</span><span class="pun">};</span></code></li><li class="L2"><code><span class="pln">        vector</span><span class="str">&lt;int&gt;</span><span class="pln"> v</span><span class="pun">(</span><span class="pln">arr</span><span class="pun">,</span><span class="pln">arr</span><span class="pun">+(</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="pln">arr</span><span class="pun">)/</span><span class="kwd">sizeof</span><span class="pun">(</span><span class="pln">arr</span><span class="pun">[</span><span class="lit">0</span><span class="pun">])));</span></code></li><li class="L3"><code><span class="pln">        insertionsort</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span></code></li><li class="L4"><code><span class="pln">        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> i </span><span class="pun">:</span><span class="pln"> v</span><span class="pun">)</span></code></li><li class="L5"><code><span class="pln">        </span><span class="pun">{</span></code></li><li class="L6"><code><span class="pln">                cout</span><span class="pun">&lt;&lt;</span><span class="pln">i</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">;</span></code></li><li class="L7"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L8"><code><span class="pln">        cout</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L0"><code><span class="pun">}</span></code></li></ol></pre></div>
</body>
</html>